<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MONITORING GFORM</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

<style>
body{font-family:'Inter',sans-serif;background:#f0f2f6;margin:0;color:#222}
header{background:#1e5bb8;color:white;padding:20px;text-align:center;font-weight:700;font-size:20px;letter-spacing:1px;box-shadow:0 2px 6px rgba(0,0,0,0.15)}
.wrap{padding:20px}

/* BUTTON GROUP */
.controls{display:flex;gap:12px;margin-bottom:16px}
.btn{padding:10px 16px;border:none;border-radius:8px;background:#1e5bb8;color:#fff;cursor:pointer;font-weight:600;transition:0.2s}
.btn:hover{background:#174a98}
.btn.active{background:#d62828 !important}

/* WEEK SELECTOR */
.week-selector{display:flex;gap:10px;margin:18px 0}
.week-btn{padding:8px 14px;background:#e0e0e0;border-radius:6px;cursor:pointer;font-weight:600;border:2px solid transparent;transition:0.2s}
.week-btn:hover{background:#d5d5d5}
.week-btn.active{background:#d62828;color:white;border-color:#b81f1f}

/* GRID */
.week-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px}
.card{background:white;padding:14px;border-radius:12px;box-shadow:0 2px 10px rgba(0,0,0,0.1);min-height:140px}
.card h4{text-align:center;margin:0 0 10px;font-size:15px;color:white;padding:6px;border-radius:6px;background:#1e5bb8;transition:0.2s;cursor:pointer}
.card h4.active{background:#d62828}

.item{border-bottom:1px solid #eee;padding:6px 0;font-size:13px}
small{font-size:11px;color:#666}

.chart-wrap{background:white;padding:14px;border-radius:12px;margin-top:20px;text-align:center;box-shadow:0 2px 8px rgba(0,0,0,0.12)}
.chart-wrap canvas{transform:scale(1.65);transform-origin:top}
</style>
</head>

<body>
<header>MONITORING GFORM</header>
<div class="wrap">

  <div class="controls">
    <button class="btn" id="btnWeekly">WEEKLY</button>
    <button class="btn" id="btnMonthly">MONTHLY</button>
    <button class="btn" id="btnExport">EXPORT</button>
    <button class="btn" id="btnRefresh">REFRESH</button>
  </div>

  <!-- WEEKLY -->
  <div id="weeklyDashboard">

    <div class="week-selector">
      <div class="week-btn" data-week="1">WEEK 1</div>
      <div class="week-btn" data-week="2">WEEK 2</div>
      <div class="week-btn" data-week="3">WEEK 3</div>
      <div class="week-btn" data-week="4">WEEK 4</div>
    </div>

    <h3>Sudah Input</h3>
    <div class="week-grid">
      <div class="card"><h4 data-head="s1">W1</h4><div id="sudahW1"></div></div>
      <div class="card"><h4 data-head="s2">W2</h4><div id="sudahW2"></div></div>
      <div class="card"><h4 data-head="s3">W3</h4><div id="sudahW3"></div></div>
      <div class="card"><h4 data-head="s4">W4</h4><div id="sudahW4"></div></div>
    </div>

    <h3 style="margin-top:20px">Belum Input</h3>
    <div class="week-grid">
      <div class="card"><h4 data-head="b1">W1</h4><div id="belumW1"></div></div>
      <div class="card"><h4 data-head="b2">W2</h4><div id="belumW2"></div></div>
      <div class="card"><h4 data-head="b3">W3</h4><div id="belumW3"></div></div>
      <div class="card"><h4 data-head="b4">W4</h4><div id="belumW4"></div></div>
    </div>

    <div class="chart-wrap">
      <h4>Grafik Weekly</h4>
      <canvas id="chartWeekly"></canvas>
    </div>
  </div>

  <!-- MONTHLY -->
  <div id="monthlyDashboard" style="display:none">
    <h3>Sudah Input Monthly</h3>
    <div class="week-grid" id="monthlySudah"></div>

    <h3 style="margin-top:20px">Belum Input Monthly</h3>
    <div class="week-grid" id="monthlyBelum"></div>

    <div class="chart-wrap">
      <h4>Grafik Monthly</h4>
      <canvas id="chartMonthly"></canvas>
    </div>
  </div>

</div>

<script>
// original JS tetap, styling & interaksi tambahan

// tombol W/M highlight
function setActiveMode(mode){
  document.querySelectorAll('.btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('btn'+mode).classList.add('active');
}

document.getElementById('btnWeekly').onclick = ()=>{
  weeklyDashboard.style.display="block";
  monthlyDashboard.style.display="none";
  setActiveMode('Weekly');
};

document.getElementById('btnMonthly').onclick = ()=>{
  weeklyDashboard.style.display="none";
  monthlyDashboard.style.display="block";
  setActiveMode('Monthly');
};

// week selector highlight
const weekBtns=document.querySelectorAll('.week-btn');
weekBtns.forEach(btn=>{
  btn.onclick=()=>{
    weekBtns.forEach(x=>x.classList.remove('active'));
    btn.classList.add('active');
  };
});

// Header card highlight
const heads=document.querySelectorAll('h4[data-head]');
heads.forEach(h=>{
  h.onclick=()=>{
    heads.forEach(x=>x.classList.remove('active'));
    h.classList.add('active');
  };
});
</script>

</body>
</html>
